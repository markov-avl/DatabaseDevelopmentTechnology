\section{Анализ предметной области}\label{sec:domain-analysis}


\subsection{Основные понятия и пользователи}


Оператор сотовой связи -- это компания, предоставляющая услуги сотовой связи для сотовых телефонов своих клиентов. Клиент -- это лицо, заинтересованное в получении услуг данной компании. Между компанией и клиентом может быть заключен абонемент -- договор, по которому одна сторона, называемая абонентом, имеет право периодически требовать оказания определённых услуг от компании в течение срока действия договора абонемента (в данном случае только клиент может быть абонентом).

Сотовый оператор владеет множеством телефонных номеров вида \texttt{7\{К\}\{АН\}}, где \texttt{К} -- код города/оператора, состоящий из 3-х цифр, а \texttt{АН} -- абонентский номер, состоящий из 7-и цифр. Эти телефонные номера принадлежат только одному сотовому оператору и не могут быть использованы другими операторами.

Оператор сотовой связи также обладает такими работниками как <<продавец-консультант>>, которые работают в салонах связи -- в торговых точках, предоставляющих комплексные услуги сотовой связи. Основной их работой является обслуживание клиентов.

Продавцы-консультанты занимаются продажей SIM-карт сотового оператора. SIM-карта -- это идентификационный электронный модуль мобильной связи сотового оператора для абонента, который и позволяет ему использовать услуги компании.

Продавцы-консультанты знают всю актуальную информацию о тарифах, которые распространяет сотовый оператор. Тариф -- это включаемые услуги и ставки оплаты за эти же услуги, предоставляемые компанией. Тариф характеризуется следующими данными:
\begin{itemize}
    \item название;
    \item абонентская плата (руб.);
    \item интернет трафик (ГБ);
    \item количество минут (мин.);
    \item количество SMS (шт.).
\end{itemize}

Каждый тариф предполагает использование услуг, включаемых в этот тариф, и ежемесячную их оплату, равную соответствующей абонентской плате. Неоплата ведёт к отключению абонента от услуг и его задолженности компании. Далее представлены некоторые актуальные тарифы сотового оператора.

\begin{table}[H]
    \caption{Актуальные тарифы}
    \label{table:actual-tariffs}
    \setlength{\parskip}{1.0ex}
    \renewcommand{\arraystretch}{1.5}
    \renewcommand{\tabularxcolumn}[1]{m{#1}}
    \begin{tabularx}{\textwidth}{|X|C|C|C|C|}
        \hline
                                           & \textbf{Стандарт-ный} & \textbf{Супер SMART} & \textbf{Всегда в сети} & \textbf{Мой бизнес} \\ \hline
        \textbf{Абонент-ская плата (руб.)} & 150                   & 600                  & 550                    & 1000                \\ \hline
        \textbf{Интернет трафик (ГБ)}      & 0,1                   & 15                   & $\infty$               & 35                  \\ \hline
        \textbf{Количество минут (мин.)}   & 50                    & 600                  & 50                     & $\infty$            \\ \hline
        \textbf{Количество SMS (шт.)}      & 50                    & 600                  & 50                     & $\infty$            \\ \hline
    \end{tabularx}
\end{table}

Сами тарифы создают менеджеры, работающие в компании сотового оператора. Их решения по созданию или исключению тарифов передаются в администрацию компании, где этот запрос выполняется администраторами. Администратор имеет права на добавление данных о тарифе (первый столбец из таблицы \ref{table:actual-tariffs}) в систему (если поступил запрос на создание тарифа), так и изменение уже существующих (если поступил запрос на исключение тарифа, то есть в системе он должен стать помеченным как неактуальный).

% не хватает сноски на символ бесконечности - что он означает, но я не знаю, как правильно сделать эту сноску

% возможно нужно описать, как работают тарифы (как происходит оплата, что такое задолженность)

Клиент может обратиться к продавцу-консультанту одного из салонов за оказанием следующих услуг:
\begin{itemize}
    \item покупка SIM-карты (регистрация SIM-карты на имя клиента);
    \item расторжение договора абонемента;
    \item предоставление актуальной информации о тарифах сотового оператора.
\end{itemize}


\subsection{Покупка SIM-карты}


Покупка SIM-карты проходит поэтапно. Первый этап -- этап проверки выполнения следующих условий со стороны клиента:
\begin{itemize}
    \item обладает паспортом совершеннолетнего;
    \item имеет менее 5-и зарегистрированных на своё имя SIM-карт;
    \item (рассматривается, если уже обладает хотя бы одной SIM-картой, выпущенной данным сотовым оператором) не имеет задолженности ни по одному из тарифов, зарегистрированных на SIM-картах клиента.
\end{itemize}

Если хотя бы одно условие проверки не выполняется, то клиент не может купить SIM-карту. Если же все условия выполняются, то осуществляется переход на следующий этап -- выбор телефонного номера клиентом. Продавец-консультант предоставляет один из свободных телефонных номеров -- номера, на которые в данный момент никто не зарегистрирован. Клиент выбирает наиболее понравившийся телефонный номер, и теперь может перейти к следующему этапу покупки -- подписание договора абонемента.

В договоре заполняются следующие поля:
\begin{itemize}
    \item телефонный номер, выбранный клиентом;
    \item ФИО клиента;
    \item серия и номер паспорта клиента;
    \item место прописки клиента;
    \item абонентский счёт, состоящий из 20 цифр (изначально привязан к выдаваемой SIM-карте);
    \item дата заключения договора вида \texttt{\{ДД\}.\{ММ\}.\{ГГГГ\}}.
\end{itemize}

После его успешного заключения клиент становится абонентом данного оператора сотовой связи. Если абонент впервые заключает договор с данным оператором сотовой связи, то продавец-консультант вносит в систему следующие данные об абоненте: ФИО, серия и номер паспорта, место прописки. Если же абонент уже заключал договор с данным сотовым оператором и некоторые из его данных изменились -- продавец-консультант изменяет эти данные в системе на актуальные.

Затем продавец-консультант добавляет все заполненные поля договора в систему, где каждый новый договор заносится с новым порядковым номером, и выбранный абонентом телефонный номер автоматически помечается как занятый. Только после всех этих этапов продавец-консультант регистрирует выбранный клиентом телефонный номер на SIM-карту и выдаёт её покупателю.


\subsection{Подключение тарифа}


Каждый абонент имеет право на подключение тарифа на свою SIM-карту, зная лишь свой телефонный номер. Подключение тарифа -- это регистрация актуального тарифа сотового оператора и SIM-карты абонента. Выполнение лишь одного условия позволяет произвести подключение тарифа успешно: на абонентском счёте должно быть больше или столько же денежных средств по сравнению со стоимостью абонентской платы подключаемого тарифа.

Данную операцию может произвести только сам абонент, либо продавец-консультант при согласии абонента под его пользователем.


\subsection{Расторжение договора абонемента}


Абонент имеет право прекратить договорные отношения между собой и компанией сотового оператора, для этого он может обратиться к продавцу-консультанту. Расторжение договора абонемента может производиться лишь при выполнении следующих условий со стороны абонента:
\begin{itemize}
    \item должен знать свой телефонный номер;
    \item должен предъявить любой документ, удостоверяющий его личность;
    \item не имеет задолженности по тарифу, зарегистрированному на SIM-карте, привязанной к данному абонентскому счёту.
\end{itemize} 

Если все эти условия выполнены, абоненту даётся бланк заявления на расторжение договора, в котором он заполняет следующие поля:
\begin{itemize}
    \item своё ФИО;
    \item свои серию и номер паспорта;
    \item выданный абонентский счёт, привязанный к ещё действующему договору;
    \item выданный телефонный номер, привязанный к ещё действующему договору;
    \item дата заявки на расторжение договора вида \texttt{\{ДД\}.\{ММ\}.\{ГГГГ\}}.
\end{itemize}

Заполненный бланк передаётся обратно к продавцу-консультанту, и если всё успешно заполнено, то продавец консультант снимает с SIM-карты зарегистрированный тариф (если он имеется) и зарегистрированного пользователя (абонента), добавляет все заполненные поля бланка заявки в систему (причём система сама присуждает документу порядковый номер), затем помечает в системе телефонный номер абонента как свободный.


\subsection{Телефонный справочник}\label{subsec:phonebook}


Существуют задачи, в которых нужна такая информационная система для хранения данных об абонентах оператора сотовой связи. Такую информационную систему называют телефонным справочником, и обладает она следующими данными:
\begin{itemize}
    \item телефонный номер абонента;
    \item дата заключения договора абонемента;
    \item дата расторжения договора абонемента;
    \item ФИО абонента;
    \item дата рождения абонента;
    \item серия и номер паспорта абонента;
    \item место прописки абонента.
\end{itemize}

Телефонный справочник может быть использован как в сфере работы предприятий, предоставляющих услуги телефонной связи, так и в других целях. Например, его можно использовать в работе справочной службы, когда любой человек по фамилии или по номеру телефона абонента может узнать его адрес. В таком телефонном справочнике можно просмотреть информацию не только о текущем владельце телефонного номера, но а также и бывших (если они существуют).